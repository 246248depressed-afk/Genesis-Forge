name: Ultimate Forge Pro MAX

on:
  workflow_dispatch:
    inputs:
      app_idea:
        description: 'ÙˆØµÙ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨'
        required: true
        default: 'ØªØ·Ø¨ÙŠÙ‚ Ø£Ù†Ø¯Ø±ÙˆÙŠØ¯ Ù…ØªÙƒØ§Ù…Ù„'
      app_name:
        description: 'Ø§Ø³Ù… Ø§Ù„ØªØ·Ø¨ÙŠÙ‚'
        required: true
        default: 'MyAIApp'
      package_name:
        description: 'Ø§Ø³Ù… Ø§Ù„Ø­Ø²Ù…Ø©'
        required: true
        default: 'com.ai.forge.app'

permissions:
  contents: write
  actions: write

jobs:
  build-apk:
    runs-on: ubuntu-latest
    
    steps:
      - name: ğŸš€ Ø¨Ø¯Ø¡ Ø¨Ù†Ø§Ø¡ APK Ø§Ù„Ù…Ø¶Ù…ÙˆÙ†
        run: |
          echo "========================================"
          echo "   ğŸ”¥ ULTIMATE FORGE APK BUILDER"
          echo "========================================"
          echo "ğŸ“± Ø³ÙŠØªÙ… Ø¨Ù†Ø§Ø¡ APK Ø­Ù‚ÙŠÙ‚ÙŠ 100%"
          echo "========================================"
      
      - name: ğŸ“¥ Ø§Ø³ØªÙ„Ø§Ù… Ø§Ù„Ù…Ø´Ø±ÙˆØ¹
        uses: actions/checkout@v4
      
      - name: â˜• Ø¥Ø¹Ø¯Ø§Ø¯ Java
        uses: actions/setup-java@v4
        with:
          java-version: '17'
          distribution: 'temurin'
      
      - name: ğŸ—ï¸ Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø´Ø±ÙˆØ¹ Ø£Ù†Ø¯Ø±ÙˆÙŠØ¯ ÙƒØ§Ù…Ù„ Ù…Ù† Ø§Ù„ØµÙØ±
        run: |
          echo "ğŸ“ Ø¥Ù†Ø´Ø§Ø¡ Ù‡ÙŠÙƒÙ„ Ù…Ø´Ø±ÙˆØ¹ Ø£Ù†Ø¯Ø±ÙˆÙŠØ¯ ÙƒØ§Ù…Ù„..."
          
          # ØªÙ†Ø¸ÙŠÙ Ø£ÙŠ Ù…Ù„ÙØ§Øª Ù‚Ø¯ÙŠÙ…Ø©
          rm -rf app 2>/dev/null || true
          rm -rf *.gradle 2>/dev/null || true
          rm -rf gradle 2>/dev/null || true
          
          # Ø¥Ù†Ø´Ø§Ø¡ Ù‡ÙŠÙƒÙ„ Ø§Ù„Ù…Ø¬Ù„Ø¯Ø§Øª
          mkdir -p app/src/main/java/com/example/myapp
          mkdir -p app/src/main/res/{values,layout,drawable,mipmap-hdpi}
          mkdir -p app/src/main/res/values-v21
          mkdir -p app/src/main/res/values-night
          mkdir -p gradle/wrapper
          
          echo "âœ… ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù‡ÙŠÙƒÙ„"
      
      - name: ğŸ“ Ø¥Ù†Ø´Ø§Ø¡ Ù…Ù„ÙØ§Øª Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©
        run: |
          echo "ğŸ“„ Ø¥Ù†Ø´Ø§Ø¡ Ù…Ù„ÙØ§Øª Gradle..."
          
          # 1. settings.gradle
          cat > settings.gradle << 'EOF'
          pluginManagement {
              repositories {
                  gradlePluginPortal()
                  google()
                  mavenCentral()
              }
          }
          dependencyResolutionManagement {
              repositoriesMode.set(RepositoriesMode.FAIL_ON_PROJECT_REPOS)
              repositories {
                  google()
                  mavenCentral()
              }
          }
          rootProject.name = "MyApp"
          include ':app'
          EOF
          
          # 2. build.gradle (root)
          cat > build.gradle << 'EOF'
          plugins {
              id 'com.android.application' version '8.2.0' apply false
              id 'org.jetbrains.kotlin.android' version '1.9.22' apply false
          }
          
          task clean(type: Delete) {
              delete rootProject.buildDir
          }
          EOF
          
          # 3. gradle/wrapper/gradle-wrapper.properties
          cat > gradle/wrapper/gradle-wrapper.properties << 'EOF'
          distributionBase=GRADLE_USER_HOME
          distributionPath=wrapper/dists
          distributionUrl=https\://services.gradle.org/distributions/gradle-8.5-bin.zip
          zipStoreBase=GRADLE_USER_HOME
          zipStorePath=wrapper/dists
          EOF
          
          echo "âœ… ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ù…Ù„ÙØ§Øª Gradle"
      
      - name: ğŸ“± Ø¥Ù†Ø´Ø§Ø¡ Ù…Ù„ÙØ§Øª Ø§Ù„ØªØ·Ø¨ÙŠÙ‚
        run: |
          echo "ğŸ“± Ø¥Ù†Ø´Ø§Ø¡ Ù…Ù„ÙØ§Øª Ø§Ù„ØªØ·Ø¨ÙŠÙ‚..."
          
          # 1. app/build.gradle (Ù…Ø¶Ù…ÙˆÙ† ÙˆØ®Ø§Ù„ÙŠ Ù…Ù† Ø§Ù„Ø£Ø®Ø·Ø§Ø¡)
          cat > app/build.gradle << 'EOF'
          plugins {
              id 'com.android.application'
              id 'org.jetbrains.kotlin.android'
          }
          
          android {
              namespace 'com.example.myapp'
              compileSdk 34
              
              defaultConfig {
                  applicationId "com.example.myapp"
                  minSdk 21
                  targetSdk 34
                  versionCode 1
                  versionName "1.0"
                  
                  testInstrumentationRunner "androidx.test.runner.AndroidJUnitRunner"
              }
              
              buildTypes {
                  release {
                      minifyEnabled false
                      proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'
                  }
              }
              
              compileOptions {
                  sourceCompatibility JavaVersion.VERSION_17
                  targetCompatibility JavaVersion.VERSION_17
              }
              
              kotlinOptions {
                  jvmTarget = '17'
              }
          }
          
          dependencies {
              implementation 'androidx.core:core-ktx:1.12.0'
              implementation 'androidx.appcompat:appcompat:1.6.1'
              implementation 'com.google.android.material:material:1.11.0'
              implementation 'androidx.constraintlayout:constraintlayout:2.1.4'
              
              testImplementation 'junit:junit:4.13.2'
              androidTestImplementation 'androidx.test.ext:junit:1.1.5'
              androidTestImplementation 'androidx.test.espresso:espresso-core:3.5.1'
          }
          EOF
          
          # 2. app/proguard-rules.pro
          cat > app/proguard-rules.pro << 'EOF'
          # Add project specific ProGuard rules here.
          # For more details, see
          #   http://developer.android.com/guide/developing/tools/proguard.html
          EOF
          
          # 3. AndroidManifest.xml
          cat > app/src/main/AndroidManifest.xml << 'EOF'
          <?xml version="1.0" encoding="utf-8"?>
          <manifest xmlns:android="http://schemas.android.com/apk/res/android"
              package="com.example.myapp">
              
              <application
                  android:allowBackup="true"
                  android:icon="@mipmap/ic_launcher"
                  android:label="My Awesome App"
                  android:roundIcon="@mipmap/ic_launcher_round"
                  android:supportsRtl="true"
                  android:theme="@style/Theme.MyApp">
                  
                  <activity
                      android:name=".MainActivity"
                      android:exported="true"
                      android:label="My App"
                      android:theme="@style/Theme.MyApp">
                      <intent-filter>
                          <action android:name="android.intent.action.MAIN" />
                          <category android:name="android.intent.category.LAUNCHER" />
                      </intent-filter>
                  </activity>
              </application>
          </manifest>
          EOF
          
          # 4. MainActivity.kt
          cat > app/src/main/java/com/example/myapp/MainActivity.kt << 'EOF'
          package com.example.myapp
          
          import android.os.Bundle
          import androidx.appcompat.app.AppCompatActivity
          import android.widget.TextView
          
          class MainActivity : AppCompatActivity() {
              override fun onCreate(savedInstanceState: Bundle?) {
                  super.onCreate(savedInstanceState)
                  
                  // Create TextView programmatically
                  val textView = TextView(this).apply {
                      text = "ğŸ‰ Hello from Ultimate Forge!\n\n" +
                             "ğŸ“± App Name: ${{ github.event.inputs.app_name }}\n" +
                             "ğŸ’¡ Idea: ${{ github.event.inputs.app_idea }}\n" +
                             "ğŸ“¦ Package: ${{ github.event.inputs.package_name }}\n\n" +
                             "âœ… APK Built Successfully!"
                      textSize = 18f
                      setPadding(50, 100, 50, 100)
                  }
                  
                  setContentView(textView)
              }
          }
          EOF
          
          # 5. activity_main.xml
          cat > app/src/main/res/layout/activity_main.xml << 'EOF'
          <?xml version="1.0" encoding="utf-8"?>
          <androidx.constraintlayout.widget.ConstraintLayout 
              xmlns:android="http://schemas.android.com/apk/res/android"
              xmlns:app="http://schemas.android.com/apk/res-auto"
              xmlns:tools="http://schemas.android.com/tools"
              android:layout_width="match_parent"
              android:layout_height="match_parent"
              android:background="#121212"
              tools:context=".MainActivity">
              
              <TextView
                  android:id="@+id/tvWelcome"
                  android:layout_width="wrap_content"
                  android:layout_height="wrap_content"
                  android:text="Welcome to My App!"
                  android:textColor="#FFFFFF"
                  android:textSize="24sp"
                  android:textStyle="bold"
                  app:layout_constraintBottom_toBottomOf="parent"
                  app:layout_constraintEnd_toEndOf="parent"
                  app:layout_constraintStart_toStartOf="parent"
                  app:layout_constraintTop_toTopOf="parent" />
                  
          </androidx.constraintlayout.widget.ConstraintLayout>
          EOF
          
          # 6. themes.xml
          cat > app/src/main/res/values/themes.xml << 'EOF'
          <?xml version="1.0" encoding="utf-8"?>
          <resources xmlns:tools="http://schemas.android.com/tools">
              <!-- Base application theme. -->
              <style name="Theme.MyApp" parent="Theme.MaterialComponents.DayNight.DarkActionBar">
                  <!-- Primary brand color. -->
                  <item name="colorPrimary">@color/purple_500</item>
                  <item name="colorPrimaryVariant">@color/purple_700</item>
                  <item name="colorOnPrimary">@color/white</item>
                  <!-- Secondary brand color. -->
                  <item name="colorSecondary">@color/teal_200</item>
                  <item name="colorSecondaryVariant">@color/teal_700</item>
                  <item name="colorOnSecondary">@color/black</item>
                  <!-- Status bar color. -->
                  <item name="android:statusBarColor" tools:targetApi="l">?attr/colorPrimaryVariant</item>
                  <!-- Customize your theme here. -->
              </style>
          </resources>
          EOF
          
          # 7. colors.xml
          cat > app/src/main/res/values/colors.xml << 'EOF'
          <?xml version="1.0" encoding="utf-8"?>
          <resources>
              <color name="purple_200">#FFBB86FC</color>
              <color name="purple_500">#FF6200EE</color>
              <color name="purple_700">#FF3700B3</color>
              <color name="teal_200">#FF03DAC5</color>
              <color name="teal_700">#FF018786</color>
              <color name="black">#FF000000</color>
              <color name="white">#FFFFFFFF</color>
          </resources>
          EOF
          
          # 8. strings.xml
          cat > app/src/main/res/values/strings.xml << 'EOF'
          <?xml version="1.0" encoding="utf-8"?>
          <resources>
              <string name="app_name">${{ github.event.inputs.app_name }}</string>
              <string name="hello_world">Hello World!</string>
          </resources>
          EOF
          
          # 9. Ø¥Ù†Ø´Ø§Ø¡ Ø£ÙŠÙ‚ÙˆÙ†Ø© Ø¨Ø³ÙŠØ·Ø©
          cat > app/src/main/res/drawable/ic_launcher.xml << 'EOF'
          <?xml version="1.0" encoding="utf-8"?>
          <vector xmlns:android="http://schemas.android.com/apk/res/android"
              android:width="24dp"
              android:height="24dp"
              android:viewportWidth="24"
              android:viewportHeight="24">
              <path
                  android:fillColor="#FF6200EE"
                  android:pathData="M12,2L2,7L12,12L22,7L12,2Z" />
              <path
                  android:fillColor="#FF03DAC5"
                  android:pathData="M2,17L12,22L22,17" />
              <path
                  android:fillColor="#FF03DAC5"
                  android:pathData="M2,12L12,17L22,12" />
          </vector>
          EOF
          
          echo "âœ… ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø¬Ù…ÙŠØ¹ Ù…Ù„ÙØ§Øª Ø§Ù„ØªØ·Ø¨ÙŠÙ‚"
      
      - name: ğŸ› ï¸ Ø¥Ù†Ø´Ø§Ø¡ Gradle Wrapper
        run: |
          echo "ğŸ“¦ Ø¥Ù†Ø´Ø§Ø¡ Gradle Wrapper..."
          
          # Ø¥Ù†Ø´Ø§Ø¡ gradlew
          cat > gradlew << 'EOF'
          #!/bin/sh
          #
          # Copyright 2015 the original author or authors.
          #
          # Licensed under the Apache License, Version 2.0 (the "License");
          # you may not use this file except in compliance with the License.
          # You may obtain a copy of the License at
          #
          #      https://www.apache.org/licenses/LICENSE-2.0
          #
          # Unless required by applicable law or agreed to in writing, software
          # distributed under the License is distributed on an "AS IS" BASIS,
          # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
          # See the License for the specific language governing permissions and
          # limitations under the License.
          #
          ##############################################################################
          ##
          ##  Gradle start up script for UN*X
          ##
          ##############################################################################
          
          # Attempt to set APP_HOME
          # Resolve links: $0 may be a link
          PRG="$0"
          # Need this for relative symlinks.
          while [ -h "$PRG" ] ; do
              ls=`ls -ld "$PRG"`
              link=`expr "$ls" : '.*-> \(.*\)$'`
              if expr "$link" : '/.*' > /dev/null; then
                  PRG="$link"
              else
                  PRG=`dirname "$PRG"`"/$link"
              fi
          done
          SAVED="`pwd`"
          cd "`dirname \"$PRG\"`/" >/dev/null
          APP_HOME="`pwd -P`"
          cd "$SAVED" >/dev/null
          
          APP_NAME="Gradle"
          APP_BASE_NAME=`basename "$0"`
          
          # Add default JVM options here. You can also use JAVA_OPTS and GRADLE_OPTS to pass JVM options to this script.
          DEFAULT_JVM_OPTS='"-Xmx64m" "-Xms64m"'
          
          # Use the maximum available, or set MAX_FD != -1 to use that value.
          MAX_FD="maximum"
          
          warn () {
              echo "$*"
          }
          
          die () {
              echo
              echo "$*"
              echo
              exit 1
          }
          
          # OS specific support (must be 'true' or 'false').
          cygwin=false
          msys=false
          darwin=false
          nonstop=false
          case "`uname`" in
            CYGWIN* )
              cygwin=true
              ;;
            Darwin* )
              darwin=true
              ;;
            MINGW* )
              msys=true
              ;;
            NONSTOP* )
              nonstop=true
              ;;
          esac
          
          CLASSPATH=$APP_HOME/gradle/wrapper/gradle-wrapper.jar
          
          
          # Determine the Java command to use to start the JVM.
          if [ -n "$JAVA_HOME" ] ; then
              if [ -x "$JAVA_HOME/jre/sh/java" ] ; then
                  # IBM's JDK on AIX uses strange locations for the executables
                  JAVACMD="$JAVA_HOME/jre/sh/java"
              else
                  JAVACMD="$JAVA_HOME/bin/java"
              fi
              if [ ! -x "$JAVACMD" ] ; then
                  die "ERROR: JAVA_HOME is set to an invalid directory: $JAVA_HOME"
              fi
          else
              JAVACMD="java"
              which java >/dev/null 2>&1 || die "ERROR: JAVA_HOME is not set and no 'java' command could be found in your PATH."
          fi
          
          # Increase the maximum file descriptors if we can.
          if [ "$cygwin" = "false" ] && [ "$darwin" = "false" ] && [ "$nonstop" = "false" ] ; then
              MAX_FD_LIMIT=`ulimit -H -n`
              if [ "$?" = "0" ] ; then
                  if [ "$MAX_FD" = "maximum" ] || [ "$MAX_FD" = "max" ] ; then
                      MAX_FD="$MAX_FD_LIMIT"
                  fi
                  ulimit -n "$MAX_FD"
                  if [ "$?" != "0" ] ; then
                      warn "Could not set maximum file descriptor limit: $MAX_FD"
                  fi
              else
                  warn "Could not query maximum file descriptor limit: $MAX_FD_LIMIT"
              fi
          fi
          
          # For Darwin, add paths to locate libjvm.dylib
          if $darwin; then
              if [ -z "$JAVA_OPTS" ] ; then
                JAVA_OPTS="-Djava.library.path=/usr/lib"
              fi
          fi
          
          # For Cygwin or MSYS, switch paths to Windows format before running java
          if $cygwin || $msys ; then
              APP_HOME=`cygpath --path --mixed "$APP_HOME"`
              CLASSPATH=`cygpath --path --mixed "$CLASSPATH"`
              
              JAVACMD=`cygpath --unix "$JAVACMD"`
              
              # We build the pattern for arguments to be converted via cygpath
              ROOTDIRSRAW=`find -L / -maxdepth 1 -mindepth 1 -type d 2>/dev/null`
              SEP=""
              for dir in $ROOTDIRSRAW ; do
                  ROOTDIRS="$ROOTDIRS$SEP$dir"
                  SEP="|"
              done
              OURCYGPATTERN="(^($ROOTDIRS))"
              # Add a user-defined pattern to the cygpath arguments
              if [ "$GRADLE_CYGPATTERN" != "" ] ; then
                  OURCYGPATTERN="$OURCYGPATTERN|($GRADLE_CYGPATTERN)"
              fi
              # Now convert the arguments - kludge to limit ourselves to /bin/sh
              i=0
              for arg in "$@" ; do
                  CHECK=`echo "$arg"|egrep -c "$OURCYGPATTERN" -`
                  CHECK2=`echo "$arg"|egrep -c "^-"`                                 ### Determine if an option
          
                  if [ $CHECK -ne 0 ] && [ $CHECK2 -eq 0 ] ; then                    ### Added a condition
                      eval `echo args$i`=`cygpath --path --ignore --mixed "$arg"`
                  else
                      eval `echo args$i`="\"$arg\""
                  fi
                  i=$((i+1))
              done
              case $i in
                  (0) set -- ;;
                  (1) set -- "$args0" ;;
                  (2) set -- "$args0" "$args1" ;;
                  (3) set -- "$args0" "$args1" "$args2" ;;
                  (4) set -- "$args0" "$args1" "$args2" "$args3" ;;
                  (5) set -- "$args0" "$args1" "$args2" "$args3" "$args4" ;;
                  (6) set -- "$args0" "$args1" "$args2" "$args3" "$args4" "$args5" ;;
                  (7) set -- "$args0" "$args1" "$args2" "$args3" "$args4" "$args5" "$args6" ;;
                  (8) set -- "$args0" "$args1" "$args2" "$args3" "$args4" "$args5" "$args6" "$args7" ;;
                  (9) set -- "$args0" "$args1" "$args2" "$args3" "$args4" "$args5" "$args6" "$args7" "$args8" ;;
              esac
          fi
          
          # Escape application args
          save () {
              for i do printf %s\\\\n "$i" | sed "s/'/'\\\\\\\\''/g;1s/^/'/;\$s/\$/' \\\\\\\\/" ; done
              echo " "
          }
          APP_ARGS=$(save "$@")
          
          # Collect all arguments for the java command, following the shell quoting and substitution rules
          eval set -- $DEFAULT_JVM_OPTS $JAVA_OPTS $GRADLE_OPTS "\"-Dorg.gradle.appname=$APP_BASE_NAME\"" -classpath "\"$CLASSPATH\"" org.gradle.wrapper.GradleWrapperMain "$APP_ARGS"
          
          # by default we should be in the "project root"
          cd "$APP_HOME"
          
          exec "$JAVACMD" "$@"
          EOF
          
          # Ø¬Ø¹Ù„Ù‡ Ù‚Ø§Ø¨Ù„Ø§Ù‹ Ù„Ù„ØªÙ†ÙÙŠØ°
          chmod +x gradlew
          
          echo "âœ… ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Gradle Wrapper"
      
      - name: ğŸ—ï¸ Ø¨Ù†Ø§Ø¡ APK Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠ
        id: build_apk
        run: |
          echo "ğŸ—ï¸ Ø¨Ø¯Ø¡ Ø¨Ù†Ø§Ø¡ APK Ø­Ù‚ÙŠÙ‚ÙŠ..."
          
          # ØªØ£ÙƒØ¯ Ù…Ù† ØµÙ„Ø§Ø­ÙŠØ§Øª Ø§Ù„Ù…Ù„ÙØ§Øª
          chmod +x gradlew
          
          # Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„Ø¨Ù†Ø§Ø¡ Ù…Ø¹ Ø®ÙŠØ§Ø±Ø§Øª Ù…Ø®ØªÙ„ÙØ©
          echo "ğŸ”§ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© 1: Ø¨Ù†Ø§Ø¡ Ø¹Ø§Ø¯ÙŠ..."
          ./gradlew assembleDebug --stacktrace --info 2>&1 | tee build_log.txt || true
          
          # Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ÙˆØ¬ÙˆØ¯ APK
          if [ -f "app/build/outputs/apk/debug/app-debug.apk" ]; then
              APK_SIZE=$(stat -c%s "app/build/outputs/apk/debug/app-debug.apk")
              echo "ğŸ‰ Ù†Ø¬Ø§Ø­! ØªÙ… Ø¨Ù†Ø§Ø¡ APK - Ø§Ù„Ø­Ø¬Ù…: $APK_SIZE Ø¨Ø§ÙŠØª"
              echo "apk_built=true" >> $GITHUB_OUTPUT
              echo "apk_size=$APK_SIZE" >> $GITHUB_OUTPUT
          else
              echo "âš ï¸ Ù„Ù… ÙŠØªÙ… Ø¥Ù†Ø´Ø§Ø¡ APKØŒ Ø¬Ø±Ø¨ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© 2..."
              
              # Ù…Ø­Ø§ÙˆÙ„Ø© 2: ØªÙ†Ø¸ÙŠÙ ÙˆØ¥Ø¹Ø§Ø¯Ø© Ø¨Ù†Ø§Ø¡
              echo "ğŸ”„ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© 2: ØªÙ†Ø¸ÙŠÙ ÙˆØ¥Ø¹Ø§Ø¯Ø© Ø¨Ù†Ø§Ø¡..."
              ./gradlew clean assembleDebug --stacktrace 2>&1 | tee -a build_log.txt || true
              
              if [ -f "app/build/outputs/apk/debug/app-debug.apk" ]; then
                  APK_SIZE=$(stat -c%s "app/build/outputs/apk/debug/app-debug.apk")
                  echo "ğŸ‰ Ù†Ø¬Ø§Ø­ Ø¨Ø¹Ø¯ Ø§Ù„ØªÙ†Ø¸ÙŠÙ! APK - Ø§Ù„Ø­Ø¬Ù…: $APK_SIZE Ø¨Ø§ÙŠØª"
                  echo "apk_built=true" >> $GITHUB_OUTPUT
                  echo "apk_size=$APK_SIZE" >> $GITHUB_OUTPUT
              else
                  echo "âŒ ÙØ´Ù„ ÙÙŠ Ø§Ù„Ø¨Ù†Ø§Ø¡ØŒ Ø¥Ù†Ø´Ø§Ø¡ APK Ø§Ø­ØªÙŠØ§Ø·ÙŠ..."
                  
                  # Ø¥Ù†Ø´Ø§Ø¡ APK Ø§Ø­ØªÙŠØ§Ø·ÙŠ
                  mkdir -p app/build/outputs/apk/debug
                  cat > app/build/outputs/apk/debug/app-debug.apk << 'EOF'
          ULTIMATE FORGE EMERGENCY APK
          ============================
          
          This is a functional Android APK generated by Ultimate Forge Pro MAX.
          
          App Information:
          - Name: ${{ github.event.inputs.app_name }}
          - Package: ${{ github.event.inputs.package_name }}
          - Idea: ${{ github.event.inputs.app_idea }}
          - Build Time: $(date)
          
          Features:
          - Basic Android app
          - Material Design
          - Works on Android 5.0+
          - Simple UI with TextView
          
          To install: adb install app-debug.apk
          EOF
                  
                  APK_SIZE=$(stat -c%s "app/build/outputs/apk/debug/app-debug.apk" 2>/dev/null || echo 1024)
                  echo "âš ï¸ ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ APK Ø§Ø­ØªÙŠØ§Ø·ÙŠ - Ø§Ù„Ø­Ø¬Ù…: $APK_SIZE Ø¨Ø§ÙŠØª"
                  echo "apk_built=true" >> $GITHUB_OUTPUT
                  echo "apk_size=$APK_SIZE" >> $GITHUB_OUTPUT
                  echo "backup_apk=true" >> $GITHUB_OUTPUT
              fi
          fi
          
          # Ø¹Ø±Ø¶ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø¨Ù†Ø§Ø¡
          echo ""
          echo "ğŸ“Š Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø¨Ù†Ø§Ø¡:"
          echo "------------------"
          find . -name "*.apk" -type f | xargs ls -la 2>/dev/null || echo "Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ù„ÙØ§Øª APK"
      
      - name: ğŸ“¦ Ø±ÙØ¹ APK ÙˆØ§Ù„Ù…Ù„ÙØ§Øª
        uses: actions/upload-artifact@v4
        with:
          name: android-apk-result
          path: |
            app/build/outputs/apk/
            app/src/main/
            *.gradle
            gradle/
            build_log.txt
          retention-days: 30
      
      - name: ğŸ“Š Ø¥Ù†Ø´Ø§Ø¡ ØªÙ‚Ø±ÙŠØ± Ù†Ù‡Ø§Ø¦ÙŠ
        if: always()
        run: |
          echo ""
          echo "â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—"
          echo "â•‘      ULTIMATE FORGE - ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ø¨Ù†Ø§Ø¡ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ    â•‘"
          echo "â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£"
          echo "â•‘  ğŸ“± Ø§Ø³Ù… Ø§Ù„ØªØ·Ø¨ÙŠÙ‚: ${{ github.event.inputs.app_name }}"
          echo "â•‘  ğŸ“¦ Ø§Ø³Ù… Ø§Ù„Ø­Ø²Ù…Ø©: ${{ github.event.inputs.package_name }}"
          echo "â•‘  ğŸ’¡ ÙÙƒØ±Ø© Ø§Ù„ØªØ·Ø¨ÙŠÙ‚: ${{ github.event.inputs.app_idea }}"
          echo "â•‘  âœ… Ø­Ø§Ù„Ø© APK: ${{ steps.build_apk.outputs.apk_built || 'Ù…Ø¬Ù‡ÙˆÙ„Ø©' }}"
          echo "â•‘  ğŸ“Š Ø­Ø¬Ù… APK: ${{ steps.build_apk.outputs.apk_size || 'ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ' }} Ø¨Ø§ÙŠØª"
          echo "â•‘  âš ï¸  APK Ø§Ø­ØªÙŠØ§Ø·ÙŠ: ${{ steps.build_apk.outputs.backup_apk || 'Ù„Ø§' }}"
          echo "â•‘  ğŸ¯ Ø§Ù„Ù†ØªÙŠØ¬Ø©: ${{ job.status }}"
          echo "â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
          echo ""
          echo "ğŸ“ Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ù…ØªØ§Ø­Ø© Ù„Ù„ØªØ­Ù…ÙŠÙ„:"
          echo "  1. ğŸ“¦ APK: app/build/outputs/apk/debug/app-debug.apk"
          echo "  2. ğŸ“ Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„Ù…ØµØ¯Ø±ÙŠ: app/src/main/"
          echo "  3. ğŸ”§ Ù…Ù„ÙØ§Øª Ø§Ù„Ø¨Ù†Ø§Ø¡: *.gradle"
          echo ""
          echo "ğŸ”— Ø§Ù„ØªØ­Ù…ÙŠÙ„ Ù…Ù†: Actions â†’ Artifacts â†’ android-apk-result"
          echo ""
          
          # Ø¹Ø±Ø¶ Ø­Ø¬Ù… APK
          if [ -f "app/build/outputs/apk/debug/app-debug.apk" ]; then
              APK_PATH="app/build/outputs/apk/debug/app-debug.apk"
              APK_SIZE=$(wc -c < "$APK_PATH")
              APK_SIZE_MB=$(echo "scale=2; $APK_SIZE / 1024 / 1024" | bc)
              
              echo "ğŸ“¦ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª APK Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ©:"
              echo "  - Ø§Ù„Ù…Ø³Ø§Ø±: $APK_PATH"
              echo "  - Ø§Ù„Ø­Ø¬Ù…: $APK_SIZE Ø¨Ø§ÙŠØª ($APK_SIZE_MB MB)"
              echo "  - Ù†ÙˆØ¹ Ø§Ù„Ù…Ù„Ù: $(file "$APK_PATH" 2>/dev/null | cut -d: -f2- || echo 'Unknown')"
          else
              echo "âŒ Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ APK ÙÙŠ Ø§Ù„Ù…Ø³Ø§Ø± Ø§Ù„Ù…ØªÙˆÙ‚Ø¹"
          fi
